import{c as Z,u as H,af as J,f as W,ag as X,a as A,ah as Y,i as j,h as I,ai as E,aj as ee,ak as te,s as D,r as P,V as le,al as ae,am as oe,o as ne,d as se,an as ie,n as ce,O as ue,ao as de,w as L,a7 as z,ap as K,aa as d,aq as re,ar as O,as as me,a6 as ve,a9 as k,at as F,au as i,ac as T,av as B,aw as fe,ad as x,ab as M,ax as U}from"./index.8087b319.js";import{_ as G,a as l,S as be,s as $,g as Se,b as he,c as ge,l as pe,d as q,e as Oe,v as _e}from"./app.26478271.js";const Ce={xs:8,sm:10,md:14,lg:20,xl:24};var Q=Z({name:"QChip",props:{...H,...J,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:m,emit:v}){const{proxy:{$q:b}}=j(),s=W(e,b),S=X(e,Ce),u=A(()=>e.selected===!0||e.icon!==void 0),c=A(()=>e.selected===!0?e.iconSelected||b.iconSet.chip.selected:e.icon),t=A(()=>e.iconRemove||b.iconSet.chip.remove),f=A(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),C=A(()=>{const o=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(o?` text-${o} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),n=A(()=>{const o=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},y={...o,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||b.lang.label.remove};return{chip:o,remove:y}});function p(o){o.keyCode===13&&a(o)}function a(o){e.disable||(v("update:selected",!e.selected),v("click",o))}function h(o){(o.keyCode===void 0||o.keyCode===13)&&(D(o),e.disable===!1&&(v("update:modelValue",!1),v("remove")))}function V(){const o=[];f.value===!0&&o.push(I("div",{class:"q-focus-helper"})),u.value===!0&&o.push(I(E,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const y=e.label!==void 0?[I("div",{class:"ellipsis"},[e.label])]:void 0;return o.push(I("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ee(m.default,y))),e.iconRight&&o.push(I(E,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&o.push(I(E,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:t.value,...n.value.remove,onClick:h,onKeyup:h})),o}return()=>{if(e.modelValue===!1)return;const o={class:C.value,style:S.value};return f.value===!0&&Object.assign(o,n.value.chip,{onClick:a,onKeyup:p}),Y("div",o,V(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[te,e.ripple]])}}}),Ae=Z({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:m,emit:v}){const b=j(),s=P(null);let S=0;const u=[];function c(a){const h=typeof a=="boolean"?a:e.noErrorFocus!==!0,V=++S,o=(r,g)=>{v(`validation${r===!0?"Success":"Error"}`,g)},y=r=>{const g=r.validate();return typeof g.then=="function"?g.then(_=>({valid:_,comp:r}),_=>({valid:!1,comp:r,err:_})):Promise.resolve({valid:g,comp:r})};return(e.greedy===!0?Promise.all(u.map(y)).then(r=>r.filter(g=>g.valid!==!0)):u.reduce((r,g)=>r.then(()=>y(g).then(_=>{if(_.valid===!1)return Promise.reject(_)})),Promise.resolve()).catch(r=>[r])).then(r=>{if(r===void 0||r.length===0)return V===S&&o(!0),!0;if(V===S){const{comp:g,err:_}=r[0];if(_!==void 0&&console.error(_),o(!1,g),h===!0){const N=r.find(({comp:w})=>typeof w.focus=="function"&&ie(w.$)===!1);N!==void 0&&N.comp.focus()}}return!1})}function t(){S++,u.forEach(a=>{typeof a.resetValidation=="function"&&a.resetValidation()})}function f(a){a!==void 0&&D(a);const h=S+1;c().then(V=>{h===S&&V===!0&&(e.onSubmit!==void 0?v("submit",a):a!==void 0&&a.target!==void 0&&typeof a.target.submit=="function"&&a.target.submit())})}function C(a){a!==void 0&&D(a),v("reset"),ce(()=>{t(),e.autofocus===!0&&e.noResetFocus!==!0&&n()})}function n(){ue(()=>{if(s.value===null)return;const a=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),h=>h.tabIndex!==-1);a!=null&&a.focus({preventScroll:!0})})}le(de,{bindComponent(a){u.push(a)},unbindComponent(a){const h=u.indexOf(a);h!==-1&&u.splice(h,1)}});let p=!1;return ae(()=>{p=!0}),oe(()=>{p===!0&&e.autofocus===!0&&n()}),ne(()=>{e.autofocus===!0&&n()}),Object.assign(b.proxy,{validate:c,resetValidation:t,submit:f,reset:C,focus:n,getValidationComponents:()=>u}),()=>I("form",{class:"q-form",ref:s,onSubmit:f,onReset:C},se(m.default))}});const Ie={class:"input-container"},Ve={__name:"InputFixed",props:{modelValue:{type:String,default:""},tipo:{type:String,default:"text"},label1:{type:String,default:""},label2:{type:String,default:"Fixar"},textSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:m}){const v=e,b=m,s=P({modelValue:String(v.modelValue),checked:!1}),S=u=>{v.textSelect&&u.target.select()};return L(()=>v.modelValue,u=>{s.value.checked?b("update:modelValue",s.value.modelValue):s.value.modelValue=u},{immediate:!0}),L(()=>s.value.modelValue,u=>{s.value.checked||b("update:modelValue",u)},{immediate:!0}),(u,c)=>(z(),K("div",Ie,[d(re,{dense:"",outlined:"",modelValue:s.value.modelValue,"onUpdate:modelValue":c[0]||(c[0]=t=>s.value.modelValue=t),label:e.label1,type:e.tipo,disable:s.value.checked,onFocus:S},null,8,["modelValue","label","type","disable"]),O("i",{class:me(["lock",s.value.checked?"mdi mdi-lock":"mdi mdi-lock-open-outline"]),onClick:c[1]||(c[1]=t=>s.value.checked=!s.value.checked)},null,2)]))}};var R=G(Ve,[["__scopeId","data-v-3a5d1d72"]]);const ye={class:"q-pa-md row items-start q-gutter-md"},xe={class:"row q-mt-sm q-gutter-md"},ke={class:""},Re={class:""},qe={class:"row center q-mt-lg"},Ee={class:"col"},Te={class:"col"},Be={class:"col"},De={class:"col"},Le={__name:"IndexPage",setup(e){const m=P({npat:"",search1:"",search2:"",searchSelecteds:"",searchColumn:""}),v=()=>{q(),m.value.npat=""},b=()=>{Oe(),m.value.npat="",q(),$()},s=c=>{const t=l.selects.find(f=>f.id===c.id);t&&(m.value.npat=t.NRPATRIMONIO1,setTimeout(()=>{l.selected.id=t.id,l.selected.NRPATRIMONIO1=t.NRPATRIMONIO1,l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZA\u00C7\u00C3O=t.LOCALIZA\u00C7\u00C3O||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""},1e3))},S=c=>{l.selects=l.selects.filter(t=>t.id!==c.id),$()},u=A(()=>["SEM PLACA"].includes(l.selected.SITUA\u00C7\u00C3O)?"":l.selected.SITUA\u00C7\u00C3O);L(()=>m.value.npat,()=>{var c;try{q(),l.selected.NRPATRIMONIO1=m.value.npat;const t=(c=l.values)==null?void 0:c.find(f=>f.NRPATRIMONIO1===String(m.value.npat));t&&(l.selected.id=t.id||_e(),l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZA\u00C7\u00C3O=t.LOCALIZA\u00C7\u00C3O||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""),m.value.npat?t?l.selected.SITUA\u00C7\u00C3O="REGULAR":l.selected.SITUA\u00C7\u00C3O="SEM REGISTRO":l.selected.SITUA\u00C7\u00C3O="SEM PLACA"}catch(t){console.log("npat: ",t),q()}},{immediate:!0});try{m.value.npat=null}catch(c){console.log("Erro ao carregar dados localStorage: ",c)}return(c,t)=>{const f=ve("router-link");return z(),K(fe,null,[d(Ae,{onSubmit:F(b,["prevent"])},{default:k(()=>{var C;return[O("div",ye,[d(f,{to:"/settings"},{default:k(()=>[d(Q,null,{default:k(()=>{var n,p;return[T(B(((p=(n=i(l))==null?void 0:n.values)==null?void 0:p.length)||0)+" registros ",1)]}),_:1})]),_:1}),d(f,{to:"/"},{default:k(()=>[d(Q,null,{default:k(()=>{var n,p;return[T(B((p=(n=i(l))==null?void 0:n.selects)==null?void 0:p.length)+" verificados ",1)]}),_:1})]),_:1})]),d(R,{tipo:"number",textSelect:!0,modelValue:m.value.npat,"onUpdate:modelValue":t[0]||(t[0]=n=>m.value.npat=n),label1:"NPAT "+u.value},null,8,["modelValue","label1"]),d(R,{modelValue:i(l).selected.DESCRICAO,"onUpdate:modelValue":t[1]||(t[1]=n=>i(l).selected.DESCRICAO=n),label1:"Descri\xE7\xE3o"},null,8,["modelValue"]),d(R,{modelValue:i(l).selected.LOCALIZA\u00C7\u00C3O,"onUpdate:modelValue":t[2]||(t[2]=n=>i(l).selected.LOCALIZA\u00C7\u00C3O=n),label1:"Local"},null,8,["modelValue"]),d(R,{modelValue:i(l).selected.ESTADO,"onUpdate:modelValue":t[3]||(t[3]=n=>i(l).selected.ESTADO=n),label1:"Estado"},null,8,["modelValue"]),d(R,{modelValue:i(l).selected.OBSERVA\u00C7\u00C3O,"onUpdate:modelValue":t[4]||(t[4]=n=>i(l).selected.OBSERVA\u00C7\u00C3O=n),label1:"Observa\xE7\xE3o"},null,8,["modelValue"]),O("div",xe,[O("div",ke,[d(x,{color:"green-9",type:"button",icon:"send",label:"Salvar",onClick:b})]),O("div",Re,[M(d(x,{color:"yellow-9",type:"button",icon:"close",label:"Cancelar",onClick:v},null,512),[[U,i(l).selected.NRPATRIMONIO1||i(l).selected.LOCALIZA\u00C7\u00C3O]])])]),O("div",qe,[O("div",Ee,[d(x,{flat:"",class:"col-2 col-sm-6",icon:"description",label:"CSV",type:"button",onClick:t[5]||(t[5]=n=>i(Se)(i(l).selects))})]),O("div",Te,[d(x,{flat:"",class:"col-2 col-sm-2",icon:"code",label:"Relat\xF3rio",onClick:F(i(he),["prevent"])},null,8,["onClick"])]),O("div",Be,[d(x,{flat:"",class:"col-3 col-sm-4",icon:"code",label:"Termo",type:"button",onClick:i(ge)},null,8,["onClick"])]),M(O("div",De,[d(x,{flat:"",class:"col-3 col-sm-4",icon:"clear",label:"Limpar",type:"button",onClick:i(pe)},null,8,["onClick"])],512),[[U,(C=i(l).selects)==null?void 0:C.length]])])]}),_:1}),d(be,{tableData:i(l).selects,headers:i(l).colunas,onRemove:S,onClicked:s,reverse:!0},null,8,["tableData","headers"]),T(" Itens selecionados: "+B(i(l).selects.length),1)],64)}}};var Fe=G(Le,[["__scopeId","data-v-1e1a5277"]]);export{Fe as default};
