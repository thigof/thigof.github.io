import{c as W,u as H,ae as J,f as X,af as ee,a as O,ag as te,i as Y,h as V,ah as w,ai as le,aj as ae,s as N,r as M,Y as oe,ak as ne,al as se,o as ie,d as ce,am as ue,n as re,O as de,an as ve,a7 as C,ao as p,ap as b,aq as T,ar as E,as as x,aa as v,at as $,au as c,ab as I,ad as P,w as F,av as me,aw as fe,a6 as be,a9 as D,ac as Z,ax as j}from"./index.c52aa959.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";import{a as l,s as K,g as he,b as _e,c as Se,l as ge,d as L,e as Ce,v as pe}from"./app.43be6aae.js";const Ae={xs:8,sm:10,md:14,lg:20,xl:24};var G=W({name:"QChip",props:{...H,...J,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:m,emit:r}){const{proxy:{$q:_}}=Y(),s=X(e,_),S=ee(e,Ae),u=O(()=>e.selected===!0||e.icon!==void 0),i=O(()=>e.selected===!0?e.iconSelected||_.iconSet.chip.selected:e.icon),t=O(()=>e.iconRemove||_.iconSet.chip.remove),h=O(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),g=O(()=>{const n=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(n?` text-${n} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(h.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),a=O(()=>{const n=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},q={...n,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||_.lang.label.remove};return{chip:n,remove:q}});function d(n){n.keyCode===13&&o(n)}function o(n){e.disable||(r("update:selected",!e.selected),r("click",n))}function A(n){(n.keyCode===void 0||n.keyCode===13)&&(N(n),e.disable===!1&&(r("update:modelValue",!1),r("remove")))}function R(){const n=[];h.value===!0&&n.push(V("div",{class:"q-focus-helper"})),u.value===!0&&n.push(V(w,{class:"q-chip__icon q-chip__icon--left",name:i.value}));const q=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return n.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},le(m.default,q))),e.iconRight&&n.push(V(w,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&n.push(V(w,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:t.value,...a.value.remove,onClick:A,onKeyup:A})),n}return()=>{if(e.modelValue===!1)return;const n={class:g.value,style:S.value};return h.value===!0&&Object.assign(n,a.value.chip,{onClick:o,onKeyup:d}),te("div",n,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ae,e.ripple]])}}}),ke=W({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:m,emit:r}){const _=Y(),s=M(null);let S=0;const u=[];function i(o){const A=typeof o=="boolean"?o:e.noErrorFocus!==!0,R=++S,n=(f,k)=>{r(`validation${f===!0?"Success":"Error"}`,k)},q=f=>{const k=f.validate();return typeof k.then=="function"?k.then(y=>({valid:y,comp:f}),y=>({valid:!1,comp:f,err:y})):Promise.resolve({valid:k,comp:f})};return(e.greedy===!0?Promise.all(u.map(q)).then(f=>f.filter(k=>k.valid!==!0)):u.reduce((f,k)=>f.then(()=>q(k).then(y=>{if(y.valid===!1)return Promise.reject(y)})),Promise.resolve()).catch(f=>[f])).then(f=>{if(f===void 0||f.length===0)return R===S&&n(!0),!0;if(R===S){const{comp:k,err:y}=f[0];if(y!==void 0&&console.error(y),n(!1,k),A===!0){const z=f.find(({comp:Q})=>typeof Q.focus=="function"&&ue(Q.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function t(){S++,u.forEach(o=>{typeof o.resetValidation=="function"&&o.resetValidation()})}function h(o){o!==void 0&&N(o);const A=S+1;i().then(R=>{A===S&&R===!0&&(e.onSubmit!==void 0?r("submit",o):o!==void 0&&o.target!==void 0&&typeof o.target.submit=="function"&&o.target.submit())})}function g(o){o!==void 0&&N(o),r("reset"),re(()=>{t(),e.autofocus===!0&&e.noResetFocus!==!0&&a()})}function a(){de(()=>{if(s.value===null)return;const o=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),A=>A.tabIndex!==-1);o!=null&&o.focus({preventScroll:!0})})}oe(ve,{bindComponent(o){u.push(o)},unbindComponent(o){const A=u.indexOf(o);A!==-1&&u.splice(A,1)}});let d=!1;return ne(()=>{d=!0}),se(()=>{d===!0&&e.autofocus===!0&&a()}),ie(()=>{e.autofocus===!0&&a()}),Object.assign(_.proxy,{validate:i,resetValidation:t,submit:h,reset:g,focus:a,getValidationComponents:()=>u}),()=>V("form",{class:"q-form",ref:s,onSubmit:h,onReset:g},ce(m.default))}});const ye={key:0},Oe=["align"],Ie=["onClick"],Ve={key:1,class:"card-grid"},xe=["onClick"],Re={class:"actions"},qe={__name:"ShowTables",props:{headers:{type:Array,required:!0},tableData:{type:Array,required:!0},reverse:{type:Boolean,default:!1}},emits:["remove","clicked"],setup(e,{emit:m}){const r=e,_=m,s=O(()=>window.innerWidth<600),S=()=>r.reverse?[...r.tableData].reverse():r.tableData,u=t=>{const h=r.reverse||!s.value?r.tableData.length-1-t:t;_("clicked",h)},i=t=>{_("remove",t)};return(t,h)=>(C(),p("div",null,[s.value?(C(),p("div",Ve,[(C(!0),p(T,null,E(S(),(g,a)=>(C(),p("div",{key:a,class:"card",onClick:d=>u(a)},[(C(!0),p(T,null,E(e.headers,({field:d,label:o})=>(C(),p("div",{key:d},[b("strong",null,x(o)+":",1),P(" "+x(g[d]),1)]))),128)),b("div",Re,[v(c(I),{icon:"delete",color:"negative",onClick:$(d=>i(a),["stop"]),size:"sm"},null,8,["onClick"])])],8,xe))),128))])):(C(),p("table",ye,[b("thead",null,[b("tr",null,[(C(!0),p(T,null,E(e.headers,g=>(C(),p("th",{key:g.field,align:g.align},x(g.label),9,Oe))),128)),h[0]||(h[0]=b("th",null,"A\xE7\xF5es",-1))])]),b("tbody",null,[(C(!0),p(T,null,E(S(),(g,a)=>(C(),p("tr",{key:a,onClick:d=>u(a)},[(C(!0),p(T,null,E(e.headers,d=>(C(),p("td",{key:d.field},x(g[d.field]),1))),128)),b("td",null,[v(c(I),{icon:"delete",color:"negative",onClick:$(d=>i(a),["stop"]),size:"sm"},null,8,["onClick"])])],8,Ie))),128))])]))]))}};var Te=U(qe,[["__scopeId","data-v-ccbf58d4"]]);const Ee={class:"input-container"},De={__name:"InputFixed",props:{modelValue:{type:String,default:""},tipo:{type:String,default:"text"},label1:{type:String,default:""},label2:{type:String,default:"Fixar"},textSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:m}){const r=e,_=m,s=M({modelValue:String(r.modelValue),checked:!1}),S=u=>{r.textSelect&&u.target.select()};return F(()=>r.modelValue,u=>{s.value.checked?_("update:modelValue",s.value.modelValue):s.value.modelValue=u},{immediate:!0}),F(()=>s.value.modelValue,u=>{s.value.checked||_("update:modelValue",u)},{immediate:!0}),(u,i)=>(C(),p("div",Ee,[v(me,{dense:"",outlined:"",modelValue:s.value.modelValue,"onUpdate:modelValue":i[0]||(i[0]=t=>s.value.modelValue=t),label:e.label1,type:e.tipo,disable:s.value.checked,onFocus:S},null,8,["modelValue","label","type","disable"]),b("i",{class:fe(["lock",s.value.checked?"mdi mdi-lock":"mdi mdi-lock-open-outline"]),onClick:i[1]||(i[1]=t=>s.value.checked=!s.value.checked)},null,2)]))}};var B=U(De,[["__scopeId","data-v-3a5d1d72"]]);const Be={class:"q-pa-md row items-start q-gutter-md"},Le={class:"row q-mt-sm q-gutter-md"},Pe={class:""},$e={class:""},we={class:"row center q-mt-lg"},Ne={class:"col"},Fe={class:"col"},Me={class:"col"},Ue={class:"col"},ze={__name:"IndexPage",setup(e){const m=M({npat:"",search1:"",search2:"",searchSelecteds:"",searchColumn:""}),r=()=>{L(),m.value.npat=""},_=()=>{Ce(),m.value.npat="",L(),K()},s=i=>{const t=l.selects[i];t&&(m.value.npat=t.NRPATRIMONIO1,setTimeout(()=>{l.selected.id=t.id,l.selected.NRPATRIMONIO1=t.NRPATRIMONIO1,l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZACAO=t.LOCALIZACAO||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""},1e3))},S=i=>{i>-1&&l.selects.splice(i,1),K()},u=O(()=>["SEM PLACA"].includes(l.selected.SITUA\u00C7\u00C3O)?"":l.selected.SITUA\u00C7\u00C3O);F(()=>m.value.npat,()=>{var i;try{const t=(i=l.values)==null?void 0:i.find(h=>h.NRPATRIMONIO1===String(m.value.npat));L(),t&&(l.selected.id=t.id||pe(),l.selected.NRPATRIMONIO1=m.value.npat,l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZACAO=t.LOCALIZACAO||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""),m.value.npat?t?l.selected.SITUA\u00C7\u00C3O="REGULAR":l.selected.SITUA\u00C7\u00C3O="SEM REGISTRO":l.selected.SITUA\u00C7\u00C3O="SEM PLACA"}catch(t){console.log("npat: ",t),L()}},{immediate:!0});try{m.value.npat=null}catch(i){console.log("Erro ao carregar dados localStorage: ",i)}return(i,t)=>{const h=be("router-link");return C(),p(T,null,[v(ke,{onSubmit:$(_,["prevent"])},{default:D(()=>{var g;return[b("div",Be,[v(h,{to:"/settings"},{default:D(()=>[v(G,null,{default:D(()=>{var a,d;return[P(x((d=(a=c(l))==null?void 0:a.values)==null?void 0:d.length)+" registros ",1)]}),_:1})]),_:1}),v(h,{to:"/"},{default:D(()=>[v(G,null,{default:D(()=>{var a,d;return[P(x((d=(a=c(l))==null?void 0:a.selects)==null?void 0:d.length)+" verificados ",1)]}),_:1})]),_:1})]),v(B,{tipo:"number",textSelect:!0,modelValue:m.value.npat,"onUpdate:modelValue":t[0]||(t[0]=a=>m.value.npat=a),label1:"NPAT "+u.value},null,8,["modelValue","label1"]),v(B,{modelValue:c(l).selected.DESCRICAO,"onUpdate:modelValue":t[1]||(t[1]=a=>c(l).selected.DESCRICAO=a),label1:"Descri\xE7\xE3o"},null,8,["modelValue"]),v(B,{modelValue:c(l).selected.LOCALIZACAO,"onUpdate:modelValue":t[2]||(t[2]=a=>c(l).selected.LOCALIZACAO=a),label1:"Local"},null,8,["modelValue"]),v(B,{modelValue:c(l).selected.ESTADO,"onUpdate:modelValue":t[3]||(t[3]=a=>c(l).selected.ESTADO=a),label1:"Estado"},null,8,["modelValue"]),v(B,{modelValue:c(l).selected.OBSERVA\u00C7\u00C3O,"onUpdate:modelValue":t[4]||(t[4]=a=>c(l).selected.OBSERVA\u00C7\u00C3O=a),label1:"Observa\xE7\xE3o"},null,8,["modelValue"]),b("div",Le,[b("div",Pe,[v(I,{color:"green-9",type:"button",icon:"send",label:"Salvar",onClick:_})]),b("div",$e,[Z(v(I,{color:"yellow-9",type:"button",icon:"close",label:"Cancelar",onClick:r},null,512),[[j,c(l).selected.NRPATRIMONIO1||c(l).selected.LOCALIZACAO]])])]),b("div",we,[b("div",Ne,[v(I,{flat:"",class:"col-2 col-sm-6",icon:"description",label:"CSV",type:"button",onClick:t[5]||(t[5]=a=>c(he)(c(l).selects))})]),b("div",Fe,[v(I,{flat:"",class:"col-2 col-sm-2",icon:"code",label:"Relat\xF3rio",onClick:$(c(_e),["prevent"])},null,8,["onClick"])]),b("div",Me,[v(I,{flat:"",class:"col-3 col-sm-4",icon:"code",label:"Termo",type:"button",onClick:c(Se)},null,8,["onClick"])]),Z(b("div",Ue,[v(I,{flat:"",class:"col-3 col-sm-4",icon:"clear",label:"Limpar",type:"button",onClick:c(ge)},null,8,["onClick"])],512),[[j,(g=c(l).selects)==null?void 0:g.length]])])]}),_:1}),v(Te,{tableData:c(l).selects,headers:c(l).colunas,onRemove:S,onClicked:s,reverse:!0},null,8,["tableData","headers"]),P(" Itens selecionados: "+x(c(l).selects.length),1)],64)}}};var Ge=U(ze,[["__scopeId","data-v-57221e5a"]]);export{Ge as default};
