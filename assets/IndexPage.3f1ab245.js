import{c as W,u as H,af as J,f as X,ag as ee,a as I,ah as te,i as Y,h as V,ai as N,aj as le,ak as ae,s as w,r as M,Y as oe,al as ne,am as se,o as ie,d as ce,an as ue,n as re,O as de,ao as ve,a7 as p,ap as C,aq as _,ar as T,as as E,at as x,aa as v,au as $,av as i,ab as A,ad as P,w as F,aw as me,ax as fe,a6 as be,a9 as D,ac as Z,ay as j}from"./index.48a14da8.js";import{a as l,s as K,g as he,b as _e,c as Se,l as ge,d as L,e as pe,v as Ce}from"./app.2e3da8f5.js";const ke={xs:8,sm:10,md:14,lg:20,xl:24};var G=W({name:"QChip",props:{...H,...J,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:r,emit:m}){const{proxy:{$q:b}}=Y(),s=X(e,b),g=ee(e,ke),u=I(()=>e.selected===!0||e.icon!==void 0),c=I(()=>e.selected===!0?e.iconSelected||b.iconSet.chip.selected:e.icon),t=I(()=>e.iconRemove||b.iconSet.chip.remove),S=I(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),f=I(()=>{const n=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(n?` text-${n} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(S.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),o=I(()=>{const n=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},q={...n,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||b.lang.label.remove};return{chip:n,remove:q}});function d(n){n.keyCode===13&&a(n)}function a(n){e.disable||(m("update:selected",!e.selected),m("click",n))}function k(n){(n.keyCode===void 0||n.keyCode===13)&&(w(n),e.disable===!1&&(m("update:modelValue",!1),m("remove")))}function R(){const n=[];S.value===!0&&n.push(V("div",{class:"q-focus-helper"})),u.value===!0&&n.push(V(N,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const q=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return n.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},le(r.default,q))),e.iconRight&&n.push(V(N,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&n.push(V(N,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:t.value,...o.value.remove,onClick:k,onKeyup:k})),n}return()=>{if(e.modelValue===!1)return;const n={class:f.value,style:g.value};return S.value===!0&&Object.assign(n,o.value.chip,{onClick:a,onKeyup:d}),te("div",n,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ae,e.ripple]])}}}),ye=W({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:r,emit:m}){const b=Y(),s=M(null);let g=0;const u=[];function c(a){const k=typeof a=="boolean"?a:e.noErrorFocus!==!0,R=++g,n=(h,y)=>{m(`validation${h===!0?"Success":"Error"}`,y)},q=h=>{const y=h.validate();return typeof y.then=="function"?y.then(O=>({valid:O,comp:h}),O=>({valid:!1,comp:h,err:O})):Promise.resolve({valid:y,comp:h})};return(e.greedy===!0?Promise.all(u.map(q)).then(h=>h.filter(y=>y.valid!==!0)):u.reduce((h,y)=>h.then(()=>q(y).then(O=>{if(O.valid===!1)return Promise.reject(O)})),Promise.resolve()).catch(h=>[h])).then(h=>{if(h===void 0||h.length===0)return R===g&&n(!0),!0;if(R===g){const{comp:y,err:O}=h[0];if(O!==void 0&&console.error(O),n(!1,y),k===!0){const z=h.find(({comp:Q})=>typeof Q.focus=="function"&&ue(Q.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function t(){g++,u.forEach(a=>{typeof a.resetValidation=="function"&&a.resetValidation()})}function S(a){a!==void 0&&w(a);const k=g+1;c().then(R=>{k===g&&R===!0&&(e.onSubmit!==void 0?m("submit",a):a!==void 0&&a.target!==void 0&&typeof a.target.submit=="function"&&a.target.submit())})}function f(a){a!==void 0&&w(a),m("reset"),re(()=>{t(),e.autofocus===!0&&e.noResetFocus!==!0&&o()})}function o(){de(()=>{if(s.value===null)return;const a=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),k=>k.tabIndex!==-1);a!=null&&a.focus({preventScroll:!0})})}oe(ve,{bindComponent(a){u.push(a)},unbindComponent(a){const k=u.indexOf(a);k!==-1&&u.splice(k,1)}});let d=!1;return ne(()=>{d=!0}),se(()=>{d===!0&&e.autofocus===!0&&o()}),ie(()=>{e.autofocus===!0&&o()}),Object.assign(b.proxy,{validate:c,resetValidation:t,submit:S,reset:f,focus:o,getValidationComponents:()=>u}),()=>V("form",{class:"q-form",ref:s,onSubmit:S,onReset:f},ce(r.default))}});var U=(e,r)=>{const m=e.__vccOpts||e;for(const[b,s]of r)m[b]=s;return m};const Oe={key:0},Ae=["align"],Ie=["onClick"],Ve={key:1,class:"card-grid"},xe=["onClick"],Re={class:"actions"},qe={__name:"ShowTables",props:{headers:{type:Array,required:!0},tableData:{type:Array,required:!0}},emits:["remove","clicked"],setup(e,{emit:r}){const m=e,b=r,s=window.innerWidth<600,g=()=>[...m.tableData].reverse()||[],u=t=>{b("clicked",t)},c=t=>{b("remove",t)};return(t,S)=>(p(),C("div",null,[s?(p(),C("div",Ve,[(p(!0),C(T,null,E(g(),(f,o)=>(p(),C("div",{key:o,class:"card",onClick:d=>u(f)},[(p(!0),C(T,null,E(e.headers,({field:d,label:a})=>(p(),C("div",{key:d},[_("strong",null,x(a)+":",1),P(" "+x(f[d]),1)]))),128)),_("div",Re,[v(i(A),{icon:"delete",color:"negative",onClick:$(d=>c(f),["stop"]),size:"sm"},null,8,["onClick"])])],8,xe))),128))])):(p(),C("table",Oe,[_("thead",null,[_("tr",null,[(p(!0),C(T,null,E(e.headers,f=>(p(),C("th",{key:f.field,align:f.align},x(f.label),9,Ae))),128)),S[0]||(S[0]=_("th",null,"A\xE7\xF5es",-1))])]),_("tbody",null,[(p(!0),C(T,null,E(g(),(f,o)=>(p(),C("tr",{key:o,onClick:d=>u(f)},[(p(!0),C(T,null,E(e.headers,d=>(p(),C("td",{key:d.field},x(f[d.field]),1))),128)),_("td",null,[v(i(A),{icon:"delete",color:"negative",onClick:$(d=>c(f),["stop"]),size:"sm"},null,8,["onClick"])])],8,Ie))),128))])]))]))}};var Te=U(qe,[["__scopeId","data-v-74ed4db2"]]);const Ee={class:"input-container"},De={__name:"InputFixed",props:{modelValue:{type:String,default:""},tipo:{type:String,default:"text"},label1:{type:String,default:""},label2:{type:String,default:"Fixar"},textSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:r}){const m=e,b=r,s=M({modelValue:String(m.modelValue),checked:!1}),g=u=>{m.textSelect&&u.target.select()};return F(()=>m.modelValue,u=>{s.value.checked?b("update:modelValue",s.value.modelValue):s.value.modelValue=u},{immediate:!0}),F(()=>s.value.modelValue,u=>{s.value.checked||b("update:modelValue",u)},{immediate:!0}),(u,c)=>(p(),C("div",Ee,[v(me,{dense:"",outlined:"",modelValue:s.value.modelValue,"onUpdate:modelValue":c[0]||(c[0]=t=>s.value.modelValue=t),label:e.label1,type:e.tipo,disable:s.value.checked,onFocus:g},null,8,["modelValue","label","type","disable"]),_("i",{class:fe(["lock",s.value.checked?"mdi mdi-lock":"mdi mdi-lock-open-outline"]),onClick:c[1]||(c[1]=t=>s.value.checked=!s.value.checked)},null,2)]))}};var B=U(De,[["__scopeId","data-v-3a5d1d72"]]);const Be={class:"q-pa-md row items-start q-gutter-md"},Le={class:"row q-mt-sm q-gutter-md"},Pe={class:""},$e={class:""},Ne={class:"row center q-mt-lg"},we={class:"col"},Fe={class:"col"},Me={class:"col"},Ue={class:"col"},ze={__name:"IndexPage",setup(e){const r=M({npat:"",search1:"",search2:"",searchSelecteds:"",searchColumn:""}),m=()=>{L(),r.value.npat=""},b=()=>{pe(),r.value.npat="",L(),K()},s=c=>{const t=l.selects.find(S=>S.id===c.id);t&&(r.value.npat=t.NRPATRIMONIO1,setTimeout(()=>{l.selected.id=t.id,l.selected.NRPATRIMONIO1=t.NRPATRIMONIO1,l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZA\u00C7\u00C3O=t.LOCALIZA\u00C7\u00C3O||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""},1e3))},g=c=>{l.selects=l.selects.filter(t=>t.id!==c.id),K()},u=I(()=>["SEM PLACA"].includes(l.selected.SITUA\u00C7\u00C3O)?"":l.selected.SITUA\u00C7\u00C3O);F(()=>r.value.npat,()=>{var c;try{L(),l.selected.NRPATRIMONIO1=r.value.npat;const t=(c=l.values)==null?void 0:c.find(S=>S.NRPATRIMONIO1===String(r.value.npat));t&&(l.selected.id=t.id||Ce(),l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZA\u00C7\u00C3O=t.LOCALIZA\u00C7\u00C3O||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""),r.value.npat?t?l.selected.SITUA\u00C7\u00C3O="REGULAR":l.selected.SITUA\u00C7\u00C3O="SEM REGISTRO":l.selected.SITUA\u00C7\u00C3O="SEM PLACA"}catch(t){console.log("npat: ",t),L()}},{immediate:!0});try{r.value.npat=null}catch(c){console.log("Erro ao carregar dados localStorage: ",c)}return(c,t)=>{const S=be("router-link");return p(),C(T,null,[v(ye,{onSubmit:$(b,["prevent"])},{default:D(()=>{var f;return[_("div",Be,[v(S,{to:"/settings"},{default:D(()=>[v(G,null,{default:D(()=>{var o,d;return[P(x(((d=(o=i(l))==null?void 0:o.values)==null?void 0:d.length)||0)+" registros ",1)]}),_:1})]),_:1}),v(S,{to:"/"},{default:D(()=>[v(G,null,{default:D(()=>{var o,d;return[P(x((d=(o=i(l))==null?void 0:o.selects)==null?void 0:d.length)+" verificados ",1)]}),_:1})]),_:1})]),v(B,{tipo:"number",textSelect:!0,modelValue:r.value.npat,"onUpdate:modelValue":t[0]||(t[0]=o=>r.value.npat=o),label1:"NPAT "+u.value},null,8,["modelValue","label1"]),v(B,{modelValue:i(l).selected.DESCRICAO,"onUpdate:modelValue":t[1]||(t[1]=o=>i(l).selected.DESCRICAO=o),label1:"Descri\xE7\xE3o"},null,8,["modelValue"]),v(B,{modelValue:i(l).selected.LOCALIZA\u00C7\u00C3O,"onUpdate:modelValue":t[2]||(t[2]=o=>i(l).selected.LOCALIZA\u00C7\u00C3O=o),label1:"Local"},null,8,["modelValue"]),v(B,{modelValue:i(l).selected.ESTADO,"onUpdate:modelValue":t[3]||(t[3]=o=>i(l).selected.ESTADO=o),label1:"Estado"},null,8,["modelValue"]),v(B,{modelValue:i(l).selected.OBSERVA\u00C7\u00C3O,"onUpdate:modelValue":t[4]||(t[4]=o=>i(l).selected.OBSERVA\u00C7\u00C3O=o),label1:"Observa\xE7\xE3o"},null,8,["modelValue"]),_("div",Le,[_("div",Pe,[v(A,{color:"green-9",type:"button",icon:"send",label:"Salvar",onClick:b})]),_("div",$e,[Z(v(A,{color:"yellow-9",type:"button",icon:"close",label:"Cancelar",onClick:m},null,512),[[j,i(l).selected.NRPATRIMONIO1||i(l).selected.LOCALIZA\u00C7\u00C3O]])])]),_("div",Ne,[_("div",we,[v(A,{flat:"",class:"col-2 col-sm-6",icon:"description",label:"CSV",type:"button",onClick:t[5]||(t[5]=o=>i(he)(i(l).selects))})]),_("div",Fe,[v(A,{flat:"",class:"col-2 col-sm-2",icon:"code",label:"Relat\xF3rio",onClick:$(i(_e),["prevent"])},null,8,["onClick"])]),_("div",Me,[v(A,{flat:"",class:"col-3 col-sm-4",icon:"code",label:"Termo",type:"button",onClick:i(Se)},null,8,["onClick"])]),Z(_("div",Ue,[v(A,{flat:"",class:"col-3 col-sm-4",icon:"clear",label:"Limpar",type:"button",onClick:i(ge)},null,8,["onClick"])],512),[[j,(f=i(l).selects)==null?void 0:f.length]])])]}),_:1}),v(Te,{tableData:i(l).selects,headers:i(l).colunas,onRemove:g,onClicked:s,reverse:!0},null,8,["tableData","headers"]),P(" Itens selecionados: "+x(i(l).selects.length),1)],64)}}};var Ke=U(ze,[["__scopeId","data-v-1e1a5277"]]);export{Ke as default};
