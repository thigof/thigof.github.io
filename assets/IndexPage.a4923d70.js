import{c as K,u as W,ae as Y,f as H,af as J,a as I,ag as X,i as G,h as V,ah as w,ai as ee,aj as te,s as N,r as M,Y as le,ak as ae,al as oe,o as ne,d as se,am as ie,n as ce,O as ue,an as re,a7 as _,ao as S,ap as b,aq as T,ar as E,as as x,aa as r,at as $,au as c,ab as O,ad as P,w as F,av as de,aw as ve,a6 as me,a9 as D,ac as fe,ax as be}from"./index.2f7d4565.js";import{_ as U}from"./plugin-vue_export-helper.21dcd24c.js";import{a as l,s as Z,b as L,g as he,c as _e,d as Se,l as Ce,e as ge,v as pe}from"./app.8e286851.js";const ke={xs:8,sm:10,md:14,lg:20,xl:24};var j=K({name:"QChip",props:{...W,...Y,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:d,emit:u}){const{proxy:{$q:C}}=G(),s=H(e,C),i=J(e,ke),t=I(()=>e.selected===!0||e.icon!==void 0),v=I(()=>e.selected===!0?e.iconSelected||C.iconSet.chip.selected:e.icon),a=I(()=>e.iconRemove||C.iconSet.chip.remove),m=I(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),p=I(()=>{const n=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(n?` text-${n} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),h=I(()=>{const n=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},q={...n,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||C.lang.label.remove};return{chip:n,remove:q}});function g(n){n.keyCode===13&&o(n)}function o(n){e.disable||(u("update:selected",!e.selected),u("click",n))}function k(n){(n.keyCode===void 0||n.keyCode===13)&&(N(n),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function R(){const n=[];m.value===!0&&n.push(V("div",{class:"q-focus-helper"})),t.value===!0&&n.push(V(w,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const q=e.label!==void 0?[V("div",{class:"ellipsis"},[e.label])]:void 0;return n.push(V("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ee(d.default,q))),e.iconRight&&n.push(V(w,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&n.push(V(w,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:a.value,...h.value.remove,onClick:k,onKeyup:k})),n}return()=>{if(e.modelValue===!1)return;const n={class:p.value,style:i.value};return m.value===!0&&Object.assign(n,h.value.chip,{onClick:o,onKeyup:g}),X("div",n,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[te,e.ripple]])}}}),ye=K({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:d,emit:u}){const C=G(),s=M(null);let i=0;const t=[];function v(o){const k=typeof o=="boolean"?o:e.noErrorFocus!==!0,R=++i,n=(f,y)=>{u(`validation${f===!0?"Success":"Error"}`,y)},q=f=>{const y=f.validate();return typeof y.then=="function"?y.then(A=>({valid:A,comp:f}),A=>({valid:!1,comp:f,err:A})):Promise.resolve({valid:y,comp:f})};return(e.greedy===!0?Promise.all(t.map(q)).then(f=>f.filter(y=>y.valid!==!0)):t.reduce((f,y)=>f.then(()=>q(y).then(A=>{if(A.valid===!1)return Promise.reject(A)})),Promise.resolve()).catch(f=>[f])).then(f=>{if(f===void 0||f.length===0)return R===i&&n(!0),!0;if(R===i){const{comp:y,err:A}=f[0];if(A!==void 0&&console.error(A),n(!1,y),k===!0){const z=f.find(({comp:Q})=>typeof Q.focus=="function"&&ie(Q.$)===!1);z!==void 0&&z.comp.focus()}}return!1})}function a(){i++,t.forEach(o=>{typeof o.resetValidation=="function"&&o.resetValidation()})}function m(o){o!==void 0&&N(o);const k=i+1;v().then(R=>{k===i&&R===!0&&(e.onSubmit!==void 0?u("submit",o):o!==void 0&&o.target!==void 0&&typeof o.target.submit=="function"&&o.target.submit())})}function p(o){o!==void 0&&N(o),u("reset"),ce(()=>{a(),e.autofocus===!0&&e.noResetFocus!==!0&&h()})}function h(){ue(()=>{if(s.value===null)return;const o=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),k=>k.tabIndex!==-1);o!=null&&o.focus({preventScroll:!0})})}le(re,{bindComponent(o){t.push(o)},unbindComponent(o){const k=t.indexOf(o);k!==-1&&t.splice(k,1)}});let g=!1;return ae(()=>{g=!0}),oe(()=>{g===!0&&e.autofocus===!0&&h()}),ne(()=>{e.autofocus===!0&&h()}),Object.assign(C.proxy,{validate:v,resetValidation:a,submit:m,reset:p,focus:h,getValidationComponents:()=>t}),()=>V("form",{class:"q-form",ref:s,onSubmit:m,onReset:p},se(d.default))}});const Ae={key:0},Oe=["align"],Ie=["onClick"],Ve={key:1,class:"card-grid"},xe=["onClick"],Re={class:"actions"},qe={__name:"ShowTables",props:{headers:{type:Array,required:!0},tableData:{type:Array,required:!0},reverse:{type:Boolean,default:!1}},emits:["remove","clicked"],setup(e,{emit:d}){const u=e,C=d,s=I(()=>window.innerWidth<600),i=()=>u.reverse?[...u.tableData].reverse():u.tableData,t=a=>{const m=u.reverse||!s.value?u.tableData.length-1-a:a;C("clicked",m)},v=a=>{C("remove",a)};return(a,m)=>(_(),S("div",null,[s.value?(_(),S("div",Ve,[(_(!0),S(T,null,E(i(),(p,h)=>(_(),S("div",{key:h,class:"card",onClick:g=>t(h)},[(_(!0),S(T,null,E(e.headers,({field:g,label:o})=>(_(),S("div",{key:g},[b("strong",null,x(o)+":",1),P(" "+x(p[g]),1)]))),128)),b("div",Re,[r(c(O),{icon:"delete",color:"negative",onClick:$(g=>v(h),["stop"]),size:"sm"},null,8,["onClick"])])],8,xe))),128))])):(_(),S("table",Ae,[b("thead",null,[b("tr",null,[(_(!0),S(T,null,E(e.headers,p=>(_(),S("th",{key:p.field,align:p.align},x(p.label),9,Oe))),128)),m[0]||(m[0]=b("th",null,"A\xE7\xF5es",-1))])]),b("tbody",null,[(_(!0),S(T,null,E(i(),(p,h)=>(_(),S("tr",{key:h,onClick:g=>t(h)},[(_(!0),S(T,null,E(e.headers,g=>(_(),S("td",{key:g.field},x(p[g.field]),1))),128)),b("td",null,[r(c(O),{icon:"delete",color:"negative",onClick:$(g=>v(h),["stop"]),size:"sm"},null,8,["onClick"])])],8,Ie))),128))])]))]))}};var Te=U(qe,[["__scopeId","data-v-ccbf58d4"]]);const Ee={class:"input-container"},De={__name:"InputFixed",props:{modelValue:{type:String,default:""},tipo:{type:String,default:"text"},label1:{type:String,default:""},label2:{type:String,default:"Fixar"},textSelect:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:d}){const u=e,C=d,s=M({modelValue:String(u.modelValue),checked:!1}),i=t=>{u.textSelect&&t.target.select()};return F(()=>u.modelValue,t=>{s.value.checked?C("update:modelValue",s.value.modelValue):s.value.modelValue=t},{immediate:!0}),F(()=>s.value.modelValue,t=>{s.value.checked||C("update:modelValue",t)},{immediate:!0}),(t,v)=>(_(),S("div",Ee,[r(de,{dense:"",outlined:"",modelValue:s.value.modelValue,"onUpdate:modelValue":v[0]||(v[0]=a=>s.value.modelValue=a),label:e.label1,type:e.tipo,disable:s.value.checked,onFocus:i},null,8,["modelValue","label","type","disable"]),b("i",{class:ve(["lock",s.value.checked?"mdi mdi-lock":"mdi mdi-lock-open-outline"]),onClick:v[1]||(v[1]=a=>s.value.checked=!s.value.checked)},null,2)]))}};var B=U(De,[["__scopeId","data-v-3a5d1d72"]]);const Be={class:"q-pa-md row items-start q-gutter-md"},Le={class:"row justify-center q-mt-sm"},Pe={class:"col"},$e={class:"col"},we={class:"row center q-mt-lg"},Ne={class:"col"},Fe={class:"col"},Me={class:"col"},Ue={class:"col"},ze={__name:"IndexPage",setup(e){const d=M({npat:"",search1:"",search2:"",searchSelecteds:"",searchColumn:""}),u=()=>{ge(),d.value.npat="",L(),Z()},C=i=>{const t=l.selects[i];t&&(d.value.npat=t.NRPATRIMONIO1,setTimeout(()=>{l.selected.id=t.id,l.selected.NRPATRIMONIO1=t.NRPATRIMONIO1,l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZACAO=t.LOCALIZACAO||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""},1e3))},s=i=>{i>-1&&l.selects.splice(i,1),Z()};F(()=>d.value.npat,()=>{var i;try{const t=(i=l.values)==null?void 0:i.find(v=>v.NRPATRIMONIO1===String(d.value.npat));L(),t&&(console.log("Item::: ",t),l.selected.id=t.id||pe(),l.selected.NRPATRIMONIO1=d.value.npat,l.selected.DESCRICAO=t.DESCRICAO||"",l.selected.LOCALIZACAO=t.LOCALIZACAO||"",l.selected.ESTADO=t.ESTADO||"",l.selected.OBSERVA\u00C7\u00C3O=t.OBSERVA\u00C7\u00C3O||""),d.value.npat?t?l.selected.SITUA\u00C7\u00C3O="REGULAR":l.selected.SITUA\u00C7\u00C3O="SEM REGISTRO":l.selected.SITUA\u00C7\u00C3O="SEM PLACA"}catch(t){console.log("npat: ",t),L()}},{immediate:!0});try{d.value.npat=null}catch(i){console.log("Erro ao carregar dados localStorage: ",i)}return(i,t)=>{const v=me("router-link");return _(),S(T,null,[r(ye,{onSubmit:$(u,["prevent"])},{default:D(()=>[b("div",Be,[r(v,{to:"/settings"},{default:D(()=>[r(j,null,{default:D(()=>{var a,m;return[P(x((m=(a=c(l))==null?void 0:a.values)==null?void 0:m.length)+" registros ",1)]}),_:1})]),_:1}),r(v,{to:"/"},{default:D(()=>[r(j,null,{default:D(()=>{var a,m;return[P(x((m=(a=c(l))==null?void 0:a.selects)==null?void 0:m.length)+" verifiados ",1)]}),_:1})]),_:1})]),r(B,{tipo:"number",textSelect:!0,modelValue:d.value.npat,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value.npat=a),label1:"NPAT "+c(l).selected.SITUA\u00C7\u00C3O},null,8,["modelValue","label1"]),r(B,{modelValue:c(l).selected.DESCRICAO,"onUpdate:modelValue":t[1]||(t[1]=a=>c(l).selected.DESCRICAO=a),label1:"Descri\xE7\xE3o"},null,8,["modelValue"]),r(B,{modelValue:c(l).selected.LOCALIZACAO,"onUpdate:modelValue":t[2]||(t[2]=a=>c(l).selected.LOCALIZACAO=a),label1:"Local"},null,8,["modelValue"]),r(B,{modelValue:c(l).selected.ESTADO,"onUpdate:modelValue":t[3]||(t[3]=a=>c(l).selected.ESTADO=a),label1:"Estado"},null,8,["modelValue"]),r(B,{modelValue:c(l).selected.OBSERVA\u00C7\u00C3O,"onUpdate:modelValue":t[4]||(t[4]=a=>c(l).selected.OBSERVA\u00C7\u00C3O=a),label1:"Observa\xE7\xE3o"},null,8,["modelValue"]),b("div",Le,[b("div",Pe,[r(O,{color:"green-9",type:"button",icon:"send",label:"Salvar",onClick:u})]),b("div",$e,[fe(r(O,{color:"yellow-9",type:"button",icon:"close",label:"Cancelar",onClick:c(L)},null,8,["onClick"]),[[be,c(l).selected.NRPATRIMONIO1||c(l).selected.LOCALIZACAO]])])]),b("div",we,[b("div",Ne,[r(O,{flat:"",class:"col-2 col-sm-6",icon:"description",label:"CSV",type:"button",onClick:t[5]||(t[5]=a=>c(he)(c(l).selects))})]),b("div",Fe,[r(O,{flat:"",class:"col-2 col-sm-2",icon:"code",label:"Relat\xF3rio",onClick:$(c(_e),["prevent"])},null,8,["onClick"])]),b("div",Me,[r(O,{flat:"",class:"col-3 col-sm-4",icon:"code",label:"Termo",type:"button",onClick:c(Se)},null,8,["onClick"])]),b("div",Ue,[r(O,{flat:"",class:"col-3 col-sm-4",icon:"clear",label:"Limpar",type:"button",onClick:c(Ce)},null,8,["onClick"])])])]),_:1}),r(Te,{tableData:c(l).selects,headers:c(l).colunas,onRemove:s,onClicked:C,reverse:!0},null,8,["tableData","headers"]),P(" Itens selecionados: "+x(c(l).selects.length),1)],64)}}};var Ge=U(ze,[["__scopeId","data-v-663094fa"]]);export{Ge as default};
